<!DOCTYPE html>
<html>

<head>
	<!--TODO: set proper metadata/keywords? -->
	<title>Git Log</title>
	<meta name="keywords" content="eclipse,project,plug-ins,plugins,java,ide,swt,refactoring,free java ide,tools,platform,open source,development environment,development,ide" />
	<link rel="preconnect stylesheet" href="../page.css" /><!-- Replaced by a refernece to a contained copy on deployment -->
	<script src="../page.js"></script><!-- Replaced by a refernece to a contained copy on deployment -->
</head>

<body>
	<div data-generate="generateDefaultBreadcrumb(this, eclipseBreadcrumbBase)">
		<a href="../..">Downloads</a>
		<a class="data-ref" href=".">${label}</a>
		<span>GIT Log</span>
	</div>

	<main>
		<h2> Git Log for <a class="data-ref" href=".">${label}</a> </h2>
		<p class="data-ref"><b>Git log from ${logFrom} (previous) to ${logTo} (current)</b></pclass="data-ref">
		<p class="data-ref">The tagging, and this report, were done at about ${timestamp}</pclass="data-ref">
	</main>
	<script>
		loadPageData('gitLog.json')

		contentPostProcessor = (mainElement, gitLogData) => {
			document.title += ` for ${gitLogData.label}`
			for (const repository of gitLogData.repositories) {
				if (!repository.name) {
					continue
				}
				const table = toElement(`
				<table>
					<colgroup>
						<col style="width:15%;"> 
						<col style="width:60%;"> 
						<col style="width:25%;"> 
					</colgroup>
					<thead>
						<tr><th colspan="3">Repository: ${repository.name}</th></tr>
						<tr>
							<th style="background-color:gainsboro;">Date</th>
							<th style="background-color:gainsboro">Commit message</th>
							<th style="background-color:gainsboro;">Author</th>
						</tr>
					</thead>
				</table>`)
				mainElement.append(table)
				const tBody = table.createTBody()
				for (const commit of repository.commits) {
					tBody.insertRow().innerHTML = `
					<td>${commit.date}</td>
					<td> <a href="${commit.url}">${commit.message}</a></td>
					<td>${commit.author}</td>
					`
				}
				mainElement.append(toElement('<br/>'))
			}
		}

		generate()

	</script>
</body>

</html>