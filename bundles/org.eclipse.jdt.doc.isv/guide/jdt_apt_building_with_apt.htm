<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <link rel="STYLESHEET" href="../book.css" charset="ISO-8859-1" type="text/css">
   <title>Headless Building with APT in Eclipse</title>
</head>

<body>
<h1>Headless Building with APT in Eclipse</h1>
<h2>Instructions for building workspaces from the command-line directly or with ant</h2>

<p>
The APT plugin can be used in conjunction with Eclipse to build your preconfigured 
workspace, either directly from the command-line or via ant with its built-in ant task.
</p>

<h3>Building from the command-line</h3>
Given an installation of Eclipse with the APT plugin installed, you can invoke the command-line builder
with the following command:

<pre>
eclipsec -nosplash -application org.eclipse.jdt.apt.core.aptBuild -data %WORKSPACE%
</pre>

This invokes Eclipse as a console application in headless mode and builds the workspace as provided on the command-line.
Any configuration for the provided workspace will be observed in the build. 

<h3>Building with Ant</h3>
Again, you will need an installation of Eclipse with the APT plugin installed. Given this, the "apt"
task can be invoked with the following xml in your build.xml file:

<pre>
&lt;project name="test_eclipse" default="build" basedir=".">

    &lt;taskdef name="apt" classname="org.eclipse.jdt.apt.core.build.JdtApt"/>
    
    &lt;target name="build">
        &lt;apt workspace="%WORKSPACE%" eclipseHome="%ECLIPSE_HOME%"/>
    &lt;/target>
    
&lt;/project>
</pre>

</body>
</html>
