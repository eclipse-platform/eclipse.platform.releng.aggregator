<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
                           
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
                           
  <meta name="Author" content="eclipse.org">
  <title>Pre-built documentation index</title>
                                                
  <link rel="STYLESHEET" href="../../book.css" charset="ISO-8859-1"
 type="text/css">
</head>
<body>
<h1>Pre-built documentation index</h1>
<p>When user searches help contents of a product, the search is performed
within a documentation index. &nbsp;By default, this index &nbsp;is created
on the first invocation of help search, but can be pre-built and delivered
to the user with a product. &nbsp;This avoids indexing from occurring on
the user machine and lets user obtain first search results faster.<br>
</p>
<h2><b>Building an index for a product</b></h2>
<p>To build an index follow the steps:<br>
</p>
<ul>
  <li>build a product, including all documentation plug-ins,</li>
  <li>create an index for a desired locale by running this command:     
                          
    <pre>eclipse -nosplash -application org.eclipse.help.base.indexTool -vmargs -DindexOutput=<i>outputDirectory</i> -DindexLocale=<i>locale</i></pre>
from the directory containing the product. &nbsp;The following arguments
need to be set :<br>
    <b>outputDirectory</b> - specifies path of the directory where the index
is to be saved<br>
    <b>locale</b> - specifies locale for which the index will be built<br>
   </li>
</ul>
<p>For example, running<br>
</p>
<pre>eclipse -nosplash -application org.eclipse.help.base.indexTool -vmargs -DindexOutput=d:/build/com.my.plugin -DindexLocale=en</pre>
<p>will result in file <b>doc_index.zip</b> being saved in the <b>nl/en</b>
directory that will be created under <b>d:/build/com.my.plugin</b>. &nbsp;The
zip will contain index of contents of documents that are available to users
when they run the product in the <b>en</b> locale.<br>
</p>
<h2><b>Packaging and Installation of pre-built index</b> </h2>
Pre-built indices, the <b>doc_index.zip</b> files, need to be packaged as
a plug-in. &nbsp; You can choose to use a plug-in associated with the primary
feature, or choose to package the index for each language into separate fragments.<br>
<br>
For example, if product's documentation is available in three languages, say
English, German and Simplified Chinese, a plug-in com.my.plugin can have the following structure:<br>
<pre>com.my.plugin/<br>              plugin.xml<br>              nl/<br>                 de/<br>                    doc_index.zip<br>                 en/<br>                    doc_index.zip<br>                 zh/<br>                    CN/<br>                       doc_index.zip<br>              other files of this plugin</pre>
<br>
 The ID of the plugin needs to be specified as a <b>productIndex</b> preference
for org.eclipse.help.base plugin. &nbsp;For plugin in the above example, the plugin_customization.ini
file needs to contain the entry<br>
<pre>org.eclipse.help.base/productIndex=com.my.plugin<br></pre>
<p><br>
<a href="../../notices.html"><img src="../../cpy.png"
 alt="Legal notices." border="0" ></a><br>
</p>
<br>
<br>
</body>
</html>
